# üé¨ Video Metrics Parser

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ –≤–∏–¥–µ–æ —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –≤ Google Sheets —Å —É–¥–æ–±–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- **TikTok** - –≤–∏–¥–µ–æ —Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **YouTube** - –æ–±—ã—á–Ω—ã–µ –≤–∏–¥–µ–æ
- **YouTube Shorts** - –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ
- **VK** - –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Apify –∞–∫—Ç–æ—Ä `jupri/vkontakte`
- **Pinterest** - –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç
- **Instagram** - –≤–∏–¥–µ–æ –∏ reels

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Sheets API

#### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–π—Ç–µ Service Account

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API**:
   - –ú–µ–Ω—é ‚Üí APIs & Services ‚Üí Library
   - –ù–∞–π–¥–∏—Ç–µ "Google Sheets API" ‚Üí Enable
4. –°–æ–∑–¥–∞–π—Ç–µ Service Account:
   - –ú–µ–Ω—é ‚Üí APIs & Services ‚Üí Credentials
   - Create Credentials ‚Üí Service Account
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ –Ω–∞–∂–º–∏—Ç–µ "Create"
5. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á (JSON):
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Service Account
   - Keys ‚Üí Add Key ‚Üí Create New Key ‚Üí JSON
   - –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª

#### –®–∞–≥ 2.2: –°–æ–∑–¥–∞–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ [Google Sheets](https://docs.google.com/spreadsheets/)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL:
   ```
   https://docs.google.com/spreadsheets/d/–í–ê–®_ID_–¢–ê–ë–õ–ò–¶–´/edit
   ```
3. **–í–∞–∂–Ω–æ!** –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è Service Account:
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" (Share)
   - –î–æ–±–∞–≤—å—Ç–µ email –∏–∑ JSON (`client_email`)
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ "–†–µ–¥–∞–∫—Ç–æ—Ä" (Editor)

#### –®–∞–≥ 2.3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π JSON —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞–π—Ç–µ `.env`:

```env
# Google Sheets API (–±–µ—Ä–∏—Ç–µ –∏–∑ JSON —Ñ–∞–π–ª–∞)
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key_Here\n-----END PRIVATE KEY-----\n"
GOOGLE_SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã

# Apify (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://apify.com)
APIFY_API_TOKEN=–≤–∞—à_apify_—Ç–æ–∫–µ–Ω

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
LIMIT_VIDEO_MAX=200
CHECK_INTERVAL_DAYS=1
PORT=3000

# üóìÔ∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∞—Ç –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –í–°–ï–ú –∞–∫–∫–∞—É–Ω—Ç–∞–º –±–µ–∑ —Å–≤–æ–∏—Ö –¥–∞—Ç –≤ Google Sheets
# 
# –§–æ—Ä–º–∞—Ç—ã:
#   –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ: 0d (—Å–µ–≥–æ–¥–Ω—è), 7d (–Ω–µ–¥–µ–ª—è), 30d (–º–µ—Å—è—Ü), 90d (3 –º–µ—Å—è—Ü–∞)
#   –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ: 2024-01-01 (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞ YYYY-MM-DD)
#
# –ü—Ä–∏–º–µ—Ä—ã:
#   –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü:    GLOBAL_METRICS_DATE_FROM=30d  –∏  GLOBAL_METRICS_DATE_TO=0d
#   –í–µ—Å—å 2024:          GLOBAL_METRICS_DATE_FROM=2024-01-01  –∏  GLOBAL_METRICS_DATE_TO=2024-12-31
#   –° –Ω–∞—á–∞–ª–∞ –≥–æ–¥–∞:      GLOBAL_METRICS_DATE_FROM=2024-01-01  –∏  GLOBAL_METRICS_DATE_TO=0d
GLOBAL_METRICS_DATE_FROM=30d
GLOBAL_METRICS_DATE_TO=0d
```

**–í–∞–∂–Ω–æ:**
- `GOOGLE_CLIENT_EMAIL` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –ø–æ–ª—è `client_email` –≤ JSON
- `GOOGLE_PRIVATE_KEY` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –ø–æ–ª—è `private_key` –≤ JSON (—Å–æ –≤—Å–µ–º–∏ `\n`)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–∞–≤—ã—á–∫–∞—Ö!
- ‚úÖ –§–∞–π–ª `credentials.json` –ù–ï –ù–£–ñ–ï–ù - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!

### 3. –ü–æ–ª—É—á–∏—Ç–µ Apify —Ç–æ–∫–µ–Ω

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Apify.com](https://apify.com/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Integrations
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API Token
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run start:dev
```

### 5. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
http://localhost:3000/api/docs
```

---

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost:3000/api/docs
```

–í—ã —É–≤–∏–¥–∏—Ç–µ **Swagger UI** - —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API.

### üìù –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Google Sheets

1. –í Swagger UI –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Admin"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `POST /sheets/init`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ –ª–∏—Å—Ç—ã:
- **Accounts** - –¥–ª—è —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (—Å –ø–æ–ª—è–º–∏ Date From / Date To)
- **Metrics TikTok** - –º–µ—Ç—Ä–∏–∫–∏ TikTok
- **Metrics YouTube** - –º–µ—Ç—Ä–∏–∫–∏ YouTube
- **Metrics YouTube-Shorts** - –º–µ—Ç—Ä–∏–∫–∏ YouTube Shorts
- **Metrics VK** - –º–µ—Ç—Ä–∏–∫–∏ VK
- **Metrics Pinterest** - –º–µ—Ç—Ä–∏–∫–∏ Pinterest
- **Metrics Instagram** - –º–µ—Ç—Ä–∏–∫–∏ Instagram
- **Accounts Global Metric** - üìä –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –ø–æ –∞–∫–∫–∞—É–Ω—Ç–∞–º

### üìã –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ Google Sheets

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google —Ç–∞–±–ª–∏—Ü—É –∏ –≤ –ª–∏—Å—Ç–µ **"Accounts"** –¥–æ–±–∞–≤—å—Ç–µ:

| Platform | Account URL | Account Name | Last Checked | Date From | Date To |
|----------|-------------|--------------|--------------|-----------|---------|
| tiktok | https://www.tiktok.com/@username | username | | 2025-01-01 | 2025-12-31 |
| youtube | https://www.youtube.com/@channel | username | | 2025-01-01 | 2025-12-31 |
| youtube-shorts | https://www.youtube.com/@channel | username | | 2025-01-01 | 2025-12-31 |
| vk | https://vkvideo.ru/@username | username | | 2025-01-01 | 2025-12-31 |
| pinterest | https://www.pinterest.com/username | username | | 2025-01-01 | 2025-12-31 |
| instagram | https://www.instagram.com/username | username | | 2025-01-01 | 2025-12-31 |

**–í–∞–∂–Ω–æ:**
- **Date From** –∏ **Date To** - –ø–µ—Ä–∏–æ–¥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –ø–µ—Ä–∏–æ–¥ - –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å—Å—è
- –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã: `YYYY-MM-DD` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `2025-01-01`)


### üéØ –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Swagger UI:

1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Metrics"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `POST /metrics/collect`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—á–Ω—ë—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤!

### üìä –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Å—Ç—ã (Metrics TikTok, Metrics YouTube –∏ —Ç.–¥.)
3. –£–≤–∏–¥–∏—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–∏–¥–µ–æ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –∫–∞–∂–¥—ã–π `CHECK_INTERVAL_DAYS` –¥–µ–Ω—å
- **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
  - –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ –ª–∏—Å—Ç–∞ "Accounts"
  - –°–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –≤–∏–¥–µ–æ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–∏–¥–µ–æ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ "Last Checked"

–ü—Ä–æ—Å—Ç–æ –¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º, –∏ –æ–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! ü§ñ

---

## üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints

–í—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ **Swagger UI**: `http://localhost:3000/api/docs`

### –ú–µ—Ç—Ä–∏–∫–∏

#### `POST /metrics/collect`
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –≤—Ä—É—á–Ω—É—é

#### `GET /metrics/status`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±–æ—Ä–∞

#### `POST /sheets/init`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É Google Sheets (–≤–∫–ª—é—á–∞—è Accounts Global Metric)

#### `POST /admin/update-global-metrics`
–û–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ß–∏—Ç–∞–µ—Ç –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–æ–º (Date From - Date To)
- –ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥ (–ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–ø–æ—Å—Ç—ã)
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É–º–º–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ª–∏—Å—Ç "Accounts Global Metric"

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞—Ç –≤ —Ç–∞–±–ª–∏—Ü—É Accounts
- –î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

#### `GET /sheets/accounts`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –õ–∏—Å—Ç "Accounts"

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------|----------|-------------|
| Platform | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (tiktok, youtube, vk –∏ —Ç.–¥.) | ‚úÖ |
| Account URL | –°—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç | ‚úÖ |
| Account Name | –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| Last Checked | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ | –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| Date From | –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ | ‚ùå –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –≤ `.env`) |
| Date To | –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –º–µ—Ç—Ä–∏–∫–∏ | ‚ùå –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –≤ `.env`) |

### –õ–∏—Å—Ç—ã "Metrics {Platform}"

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| ID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (platform-xxx-article) |
| Account | –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ |
| Video URL | –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ |
| Title | –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ |
| Post Date | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| Views | –ü—Ä–æ—Å–º–æ—Ç—Ä—ã |
| Likes | –õ–∞–π–∫–∏ |
| Comments | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| Shares | –†–µ–ø–æ—Å—Ç—ã |
| Article | –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ç–∏–∫—É–ª—ã |
| Last Updated | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

### –õ–∏—Å—Ç "Accounts Global Metric"

**–ì–ª–æ–±–∞–ª—å–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞** - —Å—É–º–º–∞—Ä–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –≤–∏–¥–µ–æ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| Platform | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ |
| Account URL | –°—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç |
| Account Name | –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ |
| Date From | –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ —Ä–∞—Å—á–µ—Ç–∞ |
| Date To | –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ —Ä–∞—Å—á–µ—Ç–∞ |
| Total Views | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| Total Likes | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| Total Comments | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| Total Shares | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–æ—Å—Ç–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ |
| Videos Count | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ –≤ –ø–µ—Ä–∏–æ–¥–µ |
| Last Updated | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

#### ‚ö° –í–∞—Ä–∏–∞–Ω—Ç 1: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–∞—Ç—ã –≤ `.env` —Ñ–∞–π–ª–µ - –æ–Ω–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∫–æ **–≤—Å–µ–º** –∞–∫–∫–∞—É–Ω—Ç–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```env
GLOBAL_METRICS_DATE_FROM=30d  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
GLOBAL_METRICS_DATE_TO=0d     # –î–æ —Å–µ–≥–æ–¥–Ω—è
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):** `0d` (—Å–µ–≥–æ–¥–Ω—è), `7d` (–Ω–µ–¥–µ–ª—è), `30d` (–º–µ—Å—è—Ü), `90d` (3 –º–µ—Å—è—Ü–∞), `365d` (–≥–æ–¥)
- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ:** `2024-01-01` (–∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** 
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω—è—Ç—å `Date From` –∏ `Date To` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- ‚úÖ –û–¥–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```env
# –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è
GLOBAL_METRICS_DATE_FROM=7d
GLOBAL_METRICS_DATE_TO=0d

# –í–µ—Å—å 2024 –≥–æ–¥
GLOBAL_METRICS_DATE_FROM=2024-01-01
GLOBAL_METRICS_DATE_TO=2024-12-31

# –° –Ω–∞—á–∞–ª–∞ –≥–æ–¥–∞ –¥–æ —Å–µ–≥–æ–¥–Ω—è
GLOBAL_METRICS_DATE_FROM=2024-01-01
GLOBAL_METRICS_DATE_TO=0d
```

#### üéØ –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã

–£–∫–∞–∂–∏—Ç–µ `Date From` –∏ `Date To` –≤ —Ç–∞–±–ª–∏—Ü–µ **Accounts** –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** 
1. –ï—Å–ª–∏ —É –∞–∫–∫–∞—É–Ω—Ç–∞ —É–∫–∞–∑–∞–Ω—ã —Å–≤–æ–∏ –¥–∞—Ç—ã –≤ Google Sheets ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–Ω–∏
2. –ï—Å–ª–∏ —É –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–∞—Ç—ã –ø—É—Å—Ç—ã–µ ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–∑ `.env`
3. –ï—Å–ª–∏ –Ω–∏–≥–¥–µ –Ω–µ —É–∫–∞–∑–∞–Ω—ã ‚Üí –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –≤ `.env` **–ò–õ–ò** —É–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ **Accounts**
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `POST /metrics/collect` –∏–ª–∏ `POST /admin/update-global-metrics`
3. –°–∏—Å—Ç–µ–º–∞ –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤–∏–¥–µ–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
4. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É–º–º–∞—Ä–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ **Accounts Global Metric**

---

## üìä –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

### –ß—Ç–æ —ç—Ç–æ?

**Accounts Global Metric** - –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –≤–∏–¥–µ–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥.

–í–º–µ—Å—Ç–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ –æ—Ç–¥–µ–ª—å–Ω–æ, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å—É–º–º–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
- üìà –û–±—â–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
- ‚ù§Ô∏è –û–±—â–∏–µ –ª–∞–π–∫–∏  
- üí¨ –û–±—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- üîÑ –û–±—â–∏–µ —Ä–µ–ø–æ—Å—Ç—ã
- üé¨ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ

### –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å?

**–°–ø–æ—Å–æ–± 1: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –≤—Å–µ—Ö (–ø—Ä–æ—â–µ)**

–í `.env` —Ñ–∞–π–ª–µ:
```env
GLOBAL_METRICS_DATE_FROM=30d  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
GLOBAL_METRICS_DATE_TO=0d     # –î–æ —Å–µ–≥–æ–¥–Ω—è
```

–í Google Sheets –æ—Å—Ç–∞–≤—å—Ç–µ `Date From` –∏ `Date To` –ø—É—Å—Ç—ã–º–∏.

**–°–ø–æ—Å–æ–± 2: –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ**

–í Google Sheets –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–ª–æ–Ω–∫–∏ `Date From` –∏ `Date To` –¥–ª—è –Ω—É–∂–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è?

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ `POST /metrics/collect`! 

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `POST /admin/update-global-metrics`.

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- **–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** `Date From: 2025-01-01`, `Date To: 2025-01-31`
- **–ö–≤–∞—Ä—Ç–∞–ª—å–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å:** `Date From: 2025-01-01`, `Date To: 2025-03-31`
- **–ö–∞–º–ø–∞–Ω–∏—è:** `Date From: 2025-03-01`, `Date To: 2025-03-15`

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê—Ä—Ç–∏–∫—É–ª—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –∞—Ä—Ç–∏–∫—É–ª—ã –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∏ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –≤–∏–¥–µ–æ:

- `–ê—Ä—Ç–∏–∫–∞–ª—å: 1231231321`
- `#12312312` (—Å —Ü–∏—Ñ—Ä–∞–º–∏)
- `–ê—Ä—Ç. 213123123`
- `123123123` (6+ —Ü–∏—Ñ—Ä)
- `WWW1231231` (2-4 –±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã)
- `–∞—Ä—Ç–∏–∫–∞–ª—å WEWE1231231`

**–í–∞–∂–Ω–æ:** –í–∏–¥–µ–æ –±–µ–∑ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –º–µ—Ç—Ä–∏–∫–∏!

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID

–ö–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ –ø–æ–ª—É—á–∞–µ—Ç ID —Ñ–æ—Ä–º–∞—Ç–∞: `platform-xxx-article`

- `platform` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `xxx` - –ø–µ—Ä–≤—ã–µ 3 –±—É–∫–≤—ã –Ω–∏–∫–∞
- `article` - –∞—Ä—Ç–∏–∫—É–ª—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å

**–ü—Ä–∏–º–µ—Ä—ã:**
- `youtube-RAI-WB200631-456789`
- `tiktok-USE-12345678`
- `vk-VKV-ART123-WW456`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–∞—Ä—Å–∏–Ω–≥–µ:
- ‚úÖ –ï—Å–ª–∏ –≤–∏–¥–µ–æ —Å —Ç–∞–∫–∏–º ID –µ—Å—Ç—å ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–æ–≤–æ–µ ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å
- ‚úÖ `Last Updated` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
- ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# ============================================
# Google Sheets API (–ë–ï–ó credentials.json!)
# ============================================
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key\n-----END PRIVATE KEY-----\n"
GOOGLE_SPREADSHEET_ID=your_spreadsheet_id

# ============================================
# Apify - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://apify.com
# ============================================
APIFY_API_TOKEN=your_token

# ============================================
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
# ============================================
LIMIT_VIDEO_MAX=200           # –ú–∞–∫—Å–∏–º—É–º –≤–∏–¥–µ–æ —Å –∞–∫–∫–∞—É–Ω—Ç–∞
CHECK_INTERVAL_DAYS=1         # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

# ============================================
# üóìÔ∏è –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –º–µ—Ç—Ä–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# ============================================
# –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –í–°–ï–ú –∞–∫–∫–∞—É–Ω—Ç–∞–º –±–µ–∑ —Å–≤–æ–∏—Ö –¥–∞—Ç
GLOBAL_METRICS_DATE_FROM=30d  # –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ: 7d, 30d, 90d –ò–õ–ò –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ: 2024-01-01
GLOBAL_METRICS_DATE_TO=0d     # 0d = —Å–µ–≥–æ–¥–Ω—è

# ============================================
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# ============================================
PORT=3000                     # –ü–æ—Ä—Ç
NODE_ENV=development          # –û–∫—Ä—É–∂–µ–Ω–∏–µ
```

---

## üêõ Troubleshooting

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. –°–æ–∑–¥–∞–Ω –ª–∏ —Ñ–∞–π–ª `.env`
3. –£–∫–∞–∑–∞–Ω—ã –ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Swagger UI (`/api/docs`):**
1. –í—ã–ø–æ–ª–Ω–∏–ª–∏ –ª–∏ `POST /sheets/init`
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–∏ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ –ª–∏—Å—Ç "Accounts"
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω `APIFY_API_TOKEN`

### –ù–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –§–æ—Ä–º–∞—Ç –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –≤–∏–¥–µ–æ
2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (—Å–º. —Ä–∞–∑–¥–µ–ª "–ê—Ä—Ç–∏–∫—É–ª—ã")

### VK –≤–∏–¥–µ–æ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏: `vkvideo.ru/@username`
2. –ü—Ä–æ—Ñ–∏–ª—å –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –≤–∏–¥–µ–æ
3. Apify —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –ö–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run start:dev         # –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ

# Production
npm run build            # –°–±–æ—Ä–∫–∞
npm run start:prod       # –ó–∞–ø—É—Å–∫ production
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **ApifyParserService** - –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Apify
- **GoogleSheetsService** - —Ä–∞–±–æ—Ç–∞ —Å Google Sheets
- **MetricsCollectorService** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **SchedulerService** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Apify –∞–∫—Ç–æ—Ä—ã

- `clockworks/tiktok-scraper` - TikTok
- `streamers/youtube-scraper` - YouTube
- `streamers/youtube-shorts-scraper` - YouTube Shorts
- `jupri/vkontakte` - VK (query: `@username/videos`)
- `danielmilevski9/pinterest-crawler` - Pinterest
- `apify/instagram-scraper` - Instagram

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **NestJS** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Swagger UI** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å API
- **Apify Client** - –ø–∞—Ä—Å–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **Google Sheets API** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Node-cron** - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

### –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. ‚úÖ –°–æ–∑–¥–∞–Ω Service Account –≤ Google Cloud
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` (client_email, private_key)
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ Google —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –¥–ª—è Service Account
5. ‚úÖ –ü–æ–ª—É—á–µ–Ω Apify —Ç–æ–∫–µ–Ω
6. ‚úÖ –ó–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run start:dev`
7. ‚úÖ –û—Ç–∫—Ä—ã—Ç Swagger UI: `http://localhost:3000/api/docs`
8. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω `POST /sheets/init`
9. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç—ã –≤ Google Sheets
10. ‚úÖ –ó–∞–ø—É—â–µ–Ω `POST /metrics/collect`
11. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ

---

## üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Swagger UI** (`http://localhost:3000/api/docs`) –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
- üìä –ù–∞–≥–ª—è–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ú® –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã curl

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ —Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å!** üöÄ

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!** üéä
