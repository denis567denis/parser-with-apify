# üé¨ Video Metrics Parser

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫ –≤–∏–¥–µ–æ —Å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –≤ Google Sheets —Å —É–¥–æ–±–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- **TikTok** - –≤–∏–¥–µ–æ —Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **YouTube** - –æ–±—ã—á–Ω—ã–µ –≤–∏–¥–µ–æ
- **YouTube Shorts** - –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ
- **VK** - –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Apify –∞–∫—Ç–æ—Ä `jupri/vkontakte`
- **Pinterest** - –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç
- **Instagram** - –≤–∏–¥–µ–æ –∏ reels

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Sheets API

#### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–π—Ç–µ Service Account

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ **Google Sheets API**:
   - –ú–µ–Ω—é ‚Üí APIs & Services ‚Üí Library
   - –ù–∞–π–¥–∏—Ç–µ "Google Sheets API" ‚Üí Enable
4. –°–æ–∑–¥–∞–π—Ç–µ Service Account:
   - –ú–µ–Ω—é ‚Üí APIs & Services ‚Üí Credentials
   - Create Credentials ‚Üí Service Account
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ –Ω–∞–∂–º–∏—Ç–µ "Create"
5. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á (JSON):
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Service Account
   - Keys ‚Üí Add Key ‚Üí Create New Key ‚Üí JSON
   - –°–∫–∞—á–∞–π—Ç–µ JSON —Ñ–∞–π–ª

#### –®–∞–≥ 2.2: –°–æ–∑–¥–∞–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ [Google Sheets](https://docs.google.com/spreadsheets/)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL:
   ```
   https://docs.google.com/spreadsheets/d/–í–ê–®_ID_–¢–ê–ë–õ–ò–¶–´/edit
   ```
3. **–í–∞–∂–Ω–æ!** –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–ª—è Service Account:
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" (Share)
   - –î–æ–±–∞–≤—å—Ç–µ email –∏–∑ JSON (`client_email`)
   - –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ "–†–µ–¥–∞–∫—Ç–æ—Ä" (Editor)

#### –®–∞–≥ 2.3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π JSON —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞–π—Ç–µ `.env`:

```env
# Google Sheets API (–±–µ—Ä–∏—Ç–µ –∏–∑ JSON —Ñ–∞–π–ª–∞)
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key_Here\n-----END PRIVATE KEY-----\n"
GOOGLE_SPREADSHEET_ID=–≤–∞—à_id_—Ç–∞–±–ª–∏—Ü—ã

# Apify (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://apify.com)
APIFY_API_TOKEN=–≤–∞—à_apify_—Ç–æ–∫–µ–Ω

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
LIMIT_VIDEO_MAX=200
CHECK_INTERVAL_DAYS=1
PORT=3000
```

**–í–∞–∂–Ω–æ:**
- `GOOGLE_CLIENT_EMAIL` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –ø–æ–ª—è `client_email` –≤ JSON
- `GOOGLE_PRIVATE_KEY` - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ –ø–æ–ª—è `private_key` –≤ JSON (—Å–æ –≤—Å–µ–º–∏ `\n`)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–∞–≤—ã—á–∫–∞—Ö!
- ‚úÖ –§–∞–π–ª `credentials.json` –ù–ï –ù–£–ñ–ï–ù - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è!

### 3. –ü–æ–ª—É—á–∏—Ç–µ Apify —Ç–æ–∫–µ–Ω

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [Apify.com](https://apify.com/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Settings ‚Üí Integrations
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API Token
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run start:dev
```

### 5. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
http://localhost:3000/api/docs
```

---

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://localhost:3000/api/docs
```

–í—ã —É–≤–∏–¥–∏—Ç–µ **Swagger UI** - —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API.

### üìù –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Google Sheets

1. –í Swagger UI –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Admin"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `POST /sheets/init`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤ –≤–∞—à–µ–π —Ç–∞–±–ª–∏—Ü–µ –ª–∏—Å—Ç—ã:
- **Accounts** - –¥–ª—è —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- **Metrics TikTok** - –º–µ—Ç—Ä–∏–∫–∏ TikTok
- **Metrics YouTube** - –º–µ—Ç—Ä–∏–∫–∏ YouTube
- **Metrics YouTube-Shorts** - –º–µ—Ç—Ä–∏–∫–∏ YouTube Shorts
- **Metrics VK** - –º–µ—Ç—Ä–∏–∫–∏ VK
- **Metrics Pinterest** - –º–µ—Ç—Ä–∏–∫–∏ Pinterest
- **Metrics Instagram** - –º–µ—Ç—Ä–∏–∫–∏ Instagram

### üìã –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ Google Sheets

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google —Ç–∞–±–ª–∏—Ü—É –∏ –≤ –ª–∏—Å—Ç–µ **"Accounts"** –¥–æ–±–∞–≤—å—Ç–µ:

| Platform | Account URL | Account Name | Last Checked |
|----------|-------------|--------------|--------------|
| tiktok | https://www.tiktok.com/@username | username | |
| youtube | https://www.youtube.com/@channel | username | |
| youtube-shorts | https://www.youtube.com/@channel | username | |
| vk | https://vkvideo.ru/@username | username | |
| pinterest | https://www.pinterest.com/username | username | |
| instagram | https://www.instagram.com/username | username | |


### üéØ –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫

–í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Swagger UI:

1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Metrics"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `POST /metrics/collect`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—á–Ω—ë—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤!

### üìä –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Å—Ç—ã (Metrics TikTok, Metrics YouTube –∏ —Ç.–¥.)
3. –£–≤–∏–¥–∏—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –≤–∏–¥–µ–æ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –∫–∞–∂–¥—ã–π `CHECK_INTERVAL_DAYS` –¥–µ–Ω—å
- **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
  - –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ –ª–∏—Å—Ç–∞ "Accounts"
  - –°–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –≤–∏–¥–µ–æ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤–∏–¥–µ–æ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–µ "Last Checked"

–ü—Ä–æ—Å—Ç–æ –¥–µ—Ä–∂–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º, –∏ –æ–Ω–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! ü§ñ

---

## üìö –î–æ—Å—Ç—É–ø–Ω—ã–µ API endpoints

–í—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ **Swagger UI**: `http://localhost:3000/api/docs`

### –ú–µ—Ç—Ä–∏–∫–∏

#### `POST /metrics/collect`
–ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –≤—Ä—É—á–Ω—É—é

#### `GET /metrics/status`
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–±–æ—Ä–∞

#### `POST /sheets/init`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É Google Sheets

#### `GET /sheets/accounts`
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –õ–∏—Å—Ç "Accounts"

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
|------|----------|-------------|
| Platform | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (tiktok, youtube, vk –∏ —Ç.–¥.) | ‚úÖ |
| Account URL | –°—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç | ‚úÖ |
| Account Name | –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ | ‚úÖ |
| Last Checked | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ | –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

### –õ–∏—Å—Ç—ã "Metrics {Platform}"

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| ID | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (platform-xxx-article) |
| Account | –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ |
| Video URL | –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ |
| Title | –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ |
| Post Date | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| Views | –ü—Ä–æ—Å–º–æ—Ç—Ä—ã |
| Likes | –õ–∞–π–∫–∏ |
| Comments | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ |
| Shares | –†–µ–ø–æ—Å—Ç—ã |
| Article | –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∞—Ä—Ç–∏–∫—É–ª—ã |
| Last Updated | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ê—Ä—Ç–∏–∫—É–ª—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –∞—Ä—Ç–∏–∫—É–ª—ã –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∏ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –≤–∏–¥–µ–æ:

- `–ê—Ä—Ç–∏–∫–∞–ª—å: 1231231321`
- `#12312312` (—Å —Ü–∏—Ñ—Ä–∞–º–∏)
- `–ê—Ä—Ç. 213123123`
- `123123123` (6+ —Ü–∏—Ñ—Ä)
- `WWW1231231` (2-4 –±—É–∫–≤—ã + —Ü–∏—Ñ—Ä—ã)
- `–∞—Ä—Ç–∏–∫–∞–ª—å WEWE1231231`

**–í–∞–∂–Ω–æ:** –í–∏–¥–µ–æ –±–µ–∑ –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –º–µ—Ç—Ä–∏–∫–∏!

### –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID

–ö–∞–∂–¥–æ–µ –≤–∏–¥–µ–æ –ø–æ–ª—É—á–∞–µ—Ç ID —Ñ–æ—Ä–º–∞—Ç–∞: `platform-xxx-article`

- `platform` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- `xxx` - –ø–µ—Ä–≤—ã–µ 3 –±—É–∫–≤—ã –Ω–∏–∫–∞
- `article` - –∞—Ä—Ç–∏–∫—É–ª—ã —á–µ—Ä–µ–∑ –¥–µ—Ñ–∏—Å

**–ü—Ä–∏–º–µ—Ä—ã:**
- `youtube-RAI-WB200631-456789`
- `tiktok-USE-12345678`
- `vk-VKV-ART123-WW456`

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–∞—Ä—Å–∏–Ω–≥–µ:
- ‚úÖ –ï—Å–ª–∏ –≤–∏–¥–µ–æ —Å —Ç–∞–∫–∏–º ID –µ—Å—Ç—å ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –ï—Å–ª–∏ –≤–∏–¥–µ–æ –Ω–æ–≤–æ–µ ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å
- ‚úÖ `Last Updated` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
- ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Google Sheets API (–ë–ï–ó credentials.json!)
GOOGLE_CLIENT_EMAIL=your-service-account@project-id.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour_Private_Key\n-----END PRIVATE KEY-----\n"
GOOGLE_SPREADSHEET_ID=your_spreadsheet_id

# Apify - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://apify.com
APIFY_API_TOKEN=your_token

# –õ–∏–º–∏—Ç—ã
LIMIT_VIDEO_MAX=200           # –ú–∞–∫—Å–∏–º—É–º –≤–∏–¥–µ–æ —Å –∞–∫–∫–∞—É–Ω—Ç–∞

# –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
CHECK_INTERVAL_DAYS=1         # –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
PORT=3000                     # –ü–æ—Ä—Ç
NODE_ENV=development          # –û–∫—Ä—É–∂–µ–Ω–∏–µ
```

---

## üêõ Troubleshooting

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. –°–æ–∑–¥–∞–Ω –ª–∏ —Ñ–∞–π–ª `.env`
3. –£–∫–∞–∑–∞–Ω—ã –ª–∏ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Swagger UI (`/api/docs`):**
1. –í—ã–ø–æ–ª–Ω–∏–ª–∏ –ª–∏ `POST /sheets/init`
2. –î–æ–±–∞–≤–ª–µ–Ω—ã –ª–∏ –∞–∫–∫–∞—É–Ω—Ç—ã –≤ –ª–∏—Å—Ç "Accounts"
3. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω `APIFY_API_TOKEN`

### –ù–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –§–æ—Ä–º–∞—Ç –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –≤–∏–¥–µ–æ
2. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (—Å–º. —Ä–∞–∑–¥–µ–ª "–ê—Ä—Ç–∏–∫—É–ª—ã")

### VK –≤–∏–¥–µ–æ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è

‚û°Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –§–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏: `vkvideo.ru/@username`
2. –ü—Ä–æ—Ñ–∏–ª—å –∏–º–µ–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–µ –≤–∏–¥–µ–æ
3. Apify —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –ö–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run start:dev         # –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ

# Production
npm run build            # –°–±–æ—Ä–∫–∞
npm run start:prod       # –ó–∞–ø—É—Å–∫ production
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **ApifyParserService** - –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Apify
- **GoogleSheetsService** - —Ä–∞–±–æ—Ç–∞ —Å Google Sheets
- **MetricsCollectorService** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **SchedulerService** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Apify –∞–∫—Ç–æ—Ä—ã

- `clockworks/tiktok-scraper` - TikTok
- `streamers/youtube-scraper` - YouTube
- `streamers/youtube-shorts-scraper` - YouTube Shorts
- `jupri/vkontakte` - VK (query: `@username/videos`)
- `danielmilevski9/pinterest-crawler` - Pinterest
- `apify/instagram-scraper` - Instagram

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **NestJS** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Swagger UI** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å API
- **Apify Client** - –ø–∞—Ä—Å–∏–Ω–≥ –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **Google Sheets API** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Node-cron** - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

### –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫-–ª–∏—Å—Ç:

1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. ‚úÖ –°–æ–∑–¥–∞–Ω Service Account –≤ Google Cloud
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` (client_email, private_key)
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ Google —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –¥–ª—è Service Account
5. ‚úÖ –ü–æ–ª—É—á–µ–Ω Apify —Ç–æ–∫–µ–Ω
6. ‚úÖ –ó–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run start:dev`
7. ‚úÖ –û—Ç–∫—Ä—ã—Ç Swagger UI: `http://localhost:3000/api/docs`
8. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω `POST /sheets/init`
9. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç—ã –≤ Google Sheets
10. ‚úÖ –ó–∞–ø—É—â–µ–Ω `POST /metrics/collect`
11. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ç–∞–±–ª–∏—Ü–µ

---

## üí° –°–æ–≤–µ—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Swagger UI** (`http://localhost:3000/api/docs`) –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
- üìä –ù–∞–≥–ª—è–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ú® –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã curl

**–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ —Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å!** üöÄ

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!** üéä
